import{k as j,g as y,j as e,_ as t,s as k,L as v}from"./main.2.7.9.js";import{u as F}from"./Note.B1QjZ60t.js";import{c as h,g as q}from"./ProUtilHelpers.HxY5rljX.js";import{a as N,b as w}from"./Integrations.CEc3UakZ.js";import{T as I}from"./TagifyInput.BafnMlYq.js";import{h as x,a as f,b as M,d as T}from"./GlobalIntegrationHelper.Cep5Jt9C.js";const E=(l,s,i)=>{const{name:r,value:d}=l.target;i(m=>F(m,o=>{o[r]=d}))},U=l=>!((l!=null&&l.field_map?l.field_map.filter(i=>!i.formField||!i.seoPressField||i.formField==="custom"&&!i.customValue):[]).length>0),R=l=>{const s=l.filter(i=>i.required===!0);return s.length>0?s.map(i=>({formField:"",seoPressField:i.key})):[{formField:"",seoPressField:""}]};function A({i:l,formFields:s,field:i,seoPressConf:r,setSeoPressConf:d}){var u,n,b;const m=j(y),{isPro:o}=m,c=((u=r==null?void 0:r.seoPressFields)==null?void 0:u.filter(a=>a.required===!0))||[],p=((n=r==null?void 0:r.seoPressFields)==null?void 0:n.filter(a=>a.required===!1))||[];return e.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:e.jsxs("div",{className:"pos-rel flx",children:[e.jsxs("div",{className:"flx integ-fld-wrp",children:[e.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:i.formField||"",onChange:a=>x(a,l,r,d),children:[e.jsx("option",{value:"",children:t("Select Field","bit-integrations")}),e.jsx("optgroup",{label:t("Form Fields","bit-integrations"),children:s==null?void 0:s.map(a=>e.jsx("option",{value:a.name,children:a.label},`ff-rm-${a.name}`))}),e.jsx("option",{value:"custom",children:t("Custom...","bit-integrations")}),e.jsx("optgroup",{label:k(t("General Smart Codes %s","bit-integrations"),o?"":`(${t("Pro","bit-integrations")})`),children:o&&((b=N)==null?void 0:b.map(a=>e.jsx("option",{value:a.name,children:a.label},`ff-rm-${a.name}`)))})]}),i.formField==="custom"&&e.jsx(I,{onChange:a=>f(a,l,r,d),label:t("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:i.customValue,placeholder:t("Custom Value","bit-integrations"),formFields:s}),e.jsxs("select",{className:"btcd-paper-inp",disabled:l<c.length,name:"seoPressField",value:l<c.length?c[l].key||"":i.seoPressField||"",onChange:a=>x(a,l,r,d),children:[e.jsx("option",{value:"",children:t("Select Field","bit-integrations")}),l<c.length?e.jsx("option",{value:c[l].key,children:c[l].label},c[l].key):p.map(({key:a,label:_})=>e.jsx("option",{value:a,children:_},a))]})]}),l>=c.length&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>M(l,r,d),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),e.jsx("button",{onClick:()=>T(l,r,d),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:e.jsx("span",{className:"btcd-icn icn-trash-2"})})]})]})})}const g=[{name:"update_post_meta",label:t("Update Post SEO Meta","bit-integrations"),is_pro:!0}],S=[{key:"post_id",label:t("Post ID","bit-integrations"),required:!0},{key:"title",label:t("Title","bit-integrations"),required:!1},{key:"description",label:t("Description","bit-integrations"),required:!1},{key:"keywords",label:t("Keywords","bit-integrations"),required:!1},{key:"canonical",label:t("Canonical URL","bit-integrations"),required:!1},{key:"robots_index",label:t("Robots Index","bit-integrations"),required:!1},{key:"robots_follow",label:t("Robots Follow","bit-integrations"),required:!1},{key:"robots_archive",label:t("Robots Archive","bit-integrations"),required:!1},{key:"robots_snippet",label:t("Robots Snippet","bit-integrations"),required:!1},{key:"robots_imageindex",label:t("Robots Image Index","bit-integrations"),required:!1},{key:"target_kw",label:t("Target Keyword","bit-integrations"),required:!1},{key:"primary_cat",label:t("Primary Category","bit-integrations"),required:!1},{key:"og_title",label:t("Open Graph Title","bit-integrations"),required:!1},{key:"og_description",label:t("Open Graph Description","bit-integrations"),required:!1},{key:"og_img",label:t("Open Graph Image","bit-integrations"),required:!1},{key:"twitter_title",label:t("Twitter Title","bit-integrations"),required:!1},{key:"twitter_desc",label:t("Twitter Description","bit-integrations"),required:!1},{key:"twitter_img",label:t("Twitter Image","bit-integrations"),required:!1}];function K({formID:l,formFields:s,seoPressConf:i,setSeoPressConf:r,isLoading:d,setIsLoading:m,setSnackbar:o}){const c=j(y),{isPro:p}=c,u=n=>{r(b=>F(b,a=>{a.mainAction=n,n==="update_post_meta"?a.seoPressFields=S:a.seoPressFields=[],a.field_map=R(a.seoPressFields)}))};return e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs("div",{className:"flx",children:[e.jsx("b",{className:"wdt-200 d-in-b",children:t("Action:","bit-integrations")}),e.jsxs("select",{className:"btcd-paper-inp w-5",name:"mainAction",value:(i==null?void 0:i.mainAction)||"",onChange:n=>u(n.target.value),children:[e.jsx("option",{value:"",children:t("Select Action","bit-integrations")}),g==null?void 0:g.map(n=>e.jsx("option",{value:n.name,disabled:!h(p,n.is_pro),children:h(p,n.is_pro)?n.label:q(n.label)},n.name))]})]}),e.jsx("br",{}),d&&e.jsx(v,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),i.mainAction&&!d&&e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("div",{className:"mt-4",children:e.jsx("b",{className:"wdt-100",children:t("Map Fields","bit-integrations")})}),e.jsx("div",{className:"btcd-hr mt-1"}),e.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:t("Form Fields","bit-integrations")})}),e.jsx("div",{className:"txt-dp",children:e.jsx("b",{children:t("SEOPress Fields","bit-integrations")})})]}),i==null?void 0:i.field_map.map((n,b)=>e.jsx(A,{i:b,field:n,seoPressConf:i,formFields:s,setSeoPressConf:r,setSnackbar:o},`seopress-m-${b+9}`)),e.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:e.jsx("button",{onClick:()=>w(i.field_map.length,i,r,!1),className:"icn-btn sh-sm",type:"button",children:"+"})})]})]})}export{K as S,U as c,E as h};
