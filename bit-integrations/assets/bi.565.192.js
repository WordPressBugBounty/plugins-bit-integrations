var M=Object.defineProperty;var u=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var b=(a,s,e)=>s in a?M(a,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[s]=e,x=(a,s)=>{for(var e in s||(s={}))w.call(s,e)&&b(a,e,s[e]);if(u)for(var e of u(s))C.call(s,e)&&b(a,e,s[e]);return a};import{r as p,j as t}from"./main-174.js";import{B as z}from"./bi.417.813.js";import{_ as n,c as L}from"./bi.964.0.js";import{T as j,t as A}from"./bi.546.818.js";import{z as I}from"./bi.89.470.js";import"./bi.873.9.js";function H({formID:a,mailerPressConf:s,setMailerPressConf:e,step:l,nextPage:f,isLoading:o,setIsLoading:d,setSnackbar:g}){const[r,N]=p.useState(!1),[h,v]=p.useState(!1),{mailerPress:i}=A,k=()=>{d("auth"),L({},"mailer_press_authorize").then(c=>{c!=null&&c.success&&(N(!0),g({show:!0,msg:n("Connected with MailerPress Successfully","bit-integrations")})),d(!1),v(!0)})},y=c=>{const m=x({},s);m[c.target.name]=c.target.value,e(m)};return t.jsxs("div",{className:"btcd-stp-page",style:{width:l===1&&900,height:l===1&&"auto"},children:[(i==null?void 0:i.youTubeLink)&&t.jsx(j,{title:"MailerPress",youTubeLink:i==null?void 0:i.youTubeLink}),(i==null?void 0:i.docLink)&&t.jsx(j,{title:"MailerPress",docLink:i==null?void 0:i.docLink}),t.jsx("div",{className:"mt-3",children:t.jsx("b",{children:n("Integration Name:","bit-integrations")})}),t.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:y,name:"name",value:s.name,type:"text",placeholder:n("Integration Name...","bit-integrations")}),o==="auth"&&t.jsxs("div",{className:"flx mt-5",children:[t.jsx(I,{size:25,clr:"#022217",className:"mr-2"}),n("Checking if MailerPress is active!!!","bit-integrations")]}),h&&!r&&!o&&t.jsx("div",{className:"flx mt-5",style:{width:900,justifyContent:"center"},children:t.jsxs("div",{className:"txt-center",children:[t.jsx("div",{className:"btcd-icn btcd-icn-err",children:t.jsx("span",{children:"✕"})}),t.jsx("div",{className:"mt-2",children:n("MailerPress is not activated or not installed","bit-integrations")})]})}),h&&r&&!o&&t.jsxs("div",{className:"flx mt-5",style:{width:900},children:[t.jsx("div",{className:"btcd-icn btcd-icn-success",children:t.jsx("span",{children:"✓"})}),t.jsx("div",{className:"mt-2",children:n("MailerPress is activated","bit-integrations")})]}),t.jsx("button",{onClick:k,className:"btn btcd-btn-lg purple sh-sm flx",type:"button",disabled:r,children:r?n("Connected","bit-integrations"):n("Connect to MailerPress","bit-integrations")}),t.jsx("br",{}),t.jsxs("button",{onClick:()=>f(2),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",disabled:!r,children:[n("Next","bit-integrations"),t.jsx(z,{className:"ml-1 rev-icn"})]})]})}export{H as default};
