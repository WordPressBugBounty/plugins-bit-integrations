var $=Object.defineProperty;var C=Object.getOwnPropertySymbols;var H=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var T=(a,e,i)=>e in a?$(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,f=(a,e)=>{for(var i in e||(e={}))H.call(e,i)&&T(a,i,e[i]);if(C)for(var i of C(e))O.call(e,i)&&T(a,i,e[i]);return a};var w=(a,e,i)=>new Promise((p,h)=>{var c=r=>{try{l(i.next(r))}catch(x){h(x)}},d=r=>{try{l(i.throw(r))}catch(x){h(x)}},l=r=>r.done?p(r.value):Promise.resolve(r.value).then(c,d);l((i=i.apply(a,e)).next())});import{r as b,f as U,e as V,j as t,L as q}from"./main-175.js";import{d as F,a as J,_ as s}from"./bi.23.0.js";import{B as K}from"./bi.877.776.js";import{a2 as I,z as E}from"./bi.89.449.js";import{c as M,t as Q,r as W}from"./bi.908.761.js";import{T as _,t as X}from"./bi.58.782.js";import"./bi.757.9.js";function lt({formID:a,sheetConf:e,setSheetConf:i,step:p,setstep:h,isLoading:c,setIsLoading:d,setSnackbar:l,redirectLocation:r,isEdit:x,isInfo:m}){const[j,R]=b.useState(!1),[y,A]=b.useState({clientId:"",clientSecret:""}),L=U(F),{googleSheet:n}=X,[S,G]=b.useState([]),[g,B]=V(J),[u,Y]=b.useState("Custom Authorization"),v=o=>{M(e,o,A,d)},D=o=>w(this,null,function*(){yield Q(o,e,i,R,u,S,G,d,l),B(void 0)});b.useEffect(()=>{!g||Object.keys(g).length===0||D(g)},[g]);const N=o=>{const z=f({},e),k=f({},y);k[o.target.name]="",z[o.target.name]=o.target.value,A(k),i(z)},P=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),h(2),W(a,e,i,d,l)};return t.jsxs("div",{className:"btcd-stp-page",style:{width:p===1&&900,height:p===1&&"auto"},children:[(n==null?void 0:n.youTubeLink)&&t.jsx(_,{title:"Google Sheets",youTubeLink:n==null?void 0:n.youTubeLink}),(n==null?void 0:n.docLink)&&t.jsx(_,{title:"Google Sheets",docLink:n==null?void 0:n.docLink}),u==="Custom Authorization"&&t.jsxs("div",{children:[t.jsx("div",{className:"mt-3",children:t.jsx("b",{children:s("Integration Name:","bit-integrations")})}),t.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"name",value:e.name,type:"text",placeholder:s("Integration Name...","bit-integrations"),disabled:m}),t.jsx("div",{className:"mt-3",children:t.jsx("b",{children:s("Homepage URL:","bit-integrations")})}),t.jsx(I,{value:`${window.location.origin}`,className:"field-key-cpy w-6 ml-0",setSnackbar:l}),t.jsx("div",{className:"mt-3",children:t.jsx("b",{children:s("Authorized Redirect URIs:","bit-integrations")})}),t.jsx(I,{value:r||`${L.api.base}/redirect`,className:"field-key-cpy w-6 ml-0",setSnackbar:l}),t.jsxs("small",{className:"d-blk mt-5",children:[s("To get Client ID and SECRET , Please Visit","bit-integrations")," ",t.jsx("a",{className:"btcd-link",href:"https://console.developers.google.com/apis/credentials",target:"_blank",rel:"noreferrer",children:s("Google API Console","bit-integrations")})]}),t.jsx("div",{className:"mt-3",children:t.jsx("b",{children:s("Client id:","bit-integrations")})}),t.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"clientId",value:e.clientId,type:"text",placeholder:s("Client id...","bit-integrations"),disabled:m}),t.jsx("div",{style:{color:"red",fontSize:"15px"},children:y.clientId}),t.jsx("div",{className:"mt-3",children:t.jsx("b",{children:s("Client secret:","bit-integrations")})}),t.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:N,name:"clientSecret",value:e.clientSecret,type:"text",placeholder:s("Client secret...","bit-integrations"),disabled:m}),t.jsx("div",{style:{color:"red",fontSize:"15px"},children:y.clientSecret}),t.jsxs("button",{onClick:()=>v(u),className:"btn btcd-btn-lg purple sh-sm flx",type:"button",disabled:c||m,children:[j||m?s("Authorized ✔","bit-integrations"):s("Authorize","bit-integrations"),c&&t.jsx(E,{size:20,clr:"#022217",className:"ml-2"})]}),t.jsx("br",{})]}),c&&u!=="Custom Authorization"&&t.jsx(q,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),j&&u==="One Click Authorization"&&t.jsxs("button",{onClick:()=>v(),className:"btn btcd-btn-lg purple sh-sm flx",type:"button",disabled:c,children:[j?s("Authorized ✔","bit-integrations"):s("Authorize","bit-integrations"),c&&t.jsx(E,{size:20,clr:"#022217",className:"ml-2"})]}),t.jsx("br",{}),t.jsxs("button",{onClick:()=>P(),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",disabled:!j,children:[s("Next","bit-integrations"),t.jsx(K,{className:"ml-1 rev-icn"})]})]})}export{lt as default};
