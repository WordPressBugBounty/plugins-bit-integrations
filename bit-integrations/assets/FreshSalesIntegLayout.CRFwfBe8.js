var B=Object.defineProperty;var P=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var q=(i,e,c)=>e in i?B(i,e,{enumerable:!0,configurable:!0,writable:!0,value:c}):i[e]=c,_=(i,e)=>{for(var c in e||(e={}))E.call(e,c)&&q(i,c,e[c]);if(P)for(var c of P(e))G.call(e,c)&&q(i,c,e[c]);return i};import{k as T,g as U,j as t,_ as l,L as k}from"./main.2.7.9.js";import{a as H,c as M,h as O,b as z,d as J}from"./Integrations.CEc3UakZ.js";import"./Note.B1QjZ60t.js";import{b as K}from"./Table.Bhs4KlDc.js";import{a as Q,P as W}from"./ActionProFeatureLabels.BtmWWlDc.js";import{b as X,r as Y,d as Z,e as I}from"./FreshSalesCommonFunc.GV6H288F.js";import{T as L}from"./TagifyInput.BafnMlYq.js";function C({freshSalesConf:i,setFreshSalesConf:e}){var n;const c=T(U),{isPro:m}=c,d=(u,o)=>{const r=_({},i);u.target.checked?r.actions[o]=!0:delete r.actions[o],e(_({},r))};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"pos-rel d-flx w-8",children:i.moduleData.module!=="Product"&&t.jsx(K,{onChange:u=>d(u,"upsert"),checked:((n=i==null?void 0:i.actions)==null?void 0:n.upsert)||!1,className:"wdt-200 mt-4 mr-2",value:"Upsert_Record",isInfo:!m,title:t.jsx(W,{title:l("Upsert Record","bit-integrations")}),subTitle:t.jsx(Q,{title:l("Upsert Record","bit-integrations"),subTitle:l("A record gets updated based on the unique identifier value, else a new record will be created","bit-integrations"),proVersion:"2.1.1"})})})})}function S({i,formFields:e,uploadFields:c,field:m,freshSalesConf:d,setFreshSalesConf:n}){var p,j,v,g,w,N,D;const u=d.moduleData.module,o=((v=(j=(p=d.default.modules)==null?void 0:p[u])==null?void 0:j.fields)==null?void 0:v.filter(a=>a.required===!0))||[],r=((N=(w=(g=d.default.modules)==null?void 0:g[u])==null?void 0:w.fields)==null?void 0:N.filter(a=>a.required===!1))||[],h=T(U),{isPro:x}=h;return t.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:t.jsxs("div",{className:"pos-rel flx",children:[t.jsxs("div",{className:"flx integ-fld-wrp",children:[t.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:m.formField||"",onChange:a=>M(a,i,d,n,c),children:[t.jsx("option",{value:"",children:l("Select Field","bit-integrations")}),t.jsx("optgroup",{label:l("Form Fields","bit-integrations"),children:e.map(a=>t.jsx("option",{value:a.name,children:a.label},`ff-zhcrm-${a.name}`))}),t.jsx("option",{value:"custom",children:l("Custom...","bit-integrations")}),t.jsx("optgroup",{label:sprintf(l("General Smart Codes %s","bit-integrations"),x?"":`(${l("Pro","bit-integrations")})`),children:x&&((D=H)==null?void 0:D.map(a=>t.jsx("option",{value:a.name,children:a.label},`ff-zhcrm-${a.name}`)))})]}),m.formField==="custom"&&t.jsx(L,{onChange:a=>O(a,i,d,n),label:l("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:m.customValue,placeholder:l("Custom Value","bit-integrations"),formFields:e}),t.jsxs("select",{className:"btcd-paper-inp",disabled:i<o.length,name:"freshSalesFormField",value:i<o?o[i].label||"":m.freshSalesFormField||"",onChange:a=>M(a,i,d,n,c),children:[t.jsx("option",{value:"",children:l("Select Field","bit-integrations")}),i<o.length?t.jsx("option",{value:o[i].key,children:o[i].label},o[i].key):r.map(({key:a,label:F})=>t.jsx("option",{value:a,children:F},a))]})]}),t.jsx("div",{className:"flx integ-fld-wrp",children:i>=o.length&&t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>z(i,d,n,c),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),t.jsx("button",{onClick:()=>J(i,d,n,c),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:t.jsx("span",{className:"btcd-icn icn-trash-2"})})]})})]})})}function f({formFields:i,freshSalesConf:e,setFreshSalesConf:c,handleInput:m,isLoading:d,setIsLoading:n,setSnackbar:u}){var o,r,h,x,p,j,v,g,w,N,D,a,F,y,V,R,$,A;return t.jsxs(t.Fragment,{children:[d&&t.jsx(k,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),e.moduleData.module!==""&&((o=e.default.modules[e.moduleData.module])==null?void 0:o.required)&&!["Account","Product","Deal"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Account View:","bit-integrations")}),t.jsxs("select",{onChange:m,name:"account_view_id",value:((r=e.moduleData)==null?void 0:r.account_view_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Account View","bit-integrations")}),((h=e==null?void 0:e.default)==null?void 0:h.accountViews)&&e.default.accountViews.map((s,b)=>t.jsx("option",{value:s.value,children:s.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>X(e,c,n,u),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh views","bit-integrations")}'`},type:"button",disabled:d,children:"↻"}),t.jsx("br",{}),t.jsx("br",{})]}),e.moduleData.module!==""&&((x=e.default.modules[e.moduleData.module])==null?void 0:x.required)&&!["Account","Product","Deal"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("b",{className:"wdt-200 d-in-b",children:l("Account:","bit-integrations")}),t.jsxs("select",{onChange:m,name:"account_id",value:((p=e.moduleData)==null?void 0:p.account_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Account","bit-integrations")}),((j=e==null?void 0:e.default)==null?void 0:j.accounts)&&e.default.accounts.map((s,b)=>t.jsx("option",{value:s.value,children:s.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>Y(e.moduleData.account_view_id,e,c,n,u),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh Accounts","bit-integrations")}'`},type:"button",disabled:d,children:"↻"}),t.jsx("br",{}),t.jsx("br",{})]}),e.moduleData.module!==""&&((v=e.default.modules[e.moduleData.module])==null?void 0:v.required)&&!["Account","Product","Contact"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Contact View:","bit-integrations")}),t.jsxs("select",{onChange:m,name:"contact_view_id",value:((g=e.moduleData)==null?void 0:g.contact_view_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Contact View","bit-integrations")}),((w=e==null?void 0:e.default)==null?void 0:w.contactViews)&&e.default.contactViews.map((s,b)=>t.jsx("option",{value:s.value,children:s.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>Z(e,c,n,u),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh views","bit-integrations")}'`},type:"button",disabled:d,children:"↻"})]}),e.moduleData.module!==""&&((N=e.default.modules[e.moduleData.module])==null?void 0:N.required)&&!["Account","Product","Contact"].includes(e.moduleData.module)&&t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Contact:","bit-integrations")}),t.jsxs("select",{onChange:m,name:"contact_id",value:((D=e.moduleData)==null?void 0:D.contact_id)||"",className:"btcd-paper-inp w-5",children:[t.jsx("option",{value:"",children:l("Select Contact","bit-integrations")}),((a=e==null?void 0:e.default)==null?void 0:a.contacts)&&e.default.contacts.map((s,b)=>t.jsx("option",{value:s.value,children:s.label},`pipedrive-m-${b+20}`))]}),t.jsx("button",{onClick:()=>I(e.moduleData.contact_view_id,e,c,n,u),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${l("Refresh Contacts","bit-integrations")}'`},type:"button",disabled:d,children:"↻"}),t.jsx("br",{}),t.jsx("br",{})]}),e.moduleData.module&&((V=(y=(F=e.default)==null?void 0:F.modules)==null?void 0:y[e.moduleData.module])==null?void 0:V.fields)&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:l("Field Map","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:l("Form Fields","bit-integrations")})}),t.jsx("div",{className:"txt-dp",children:t.jsx("b",{children:l("FreshSales Fields","bit-integrations")})})]}),e.field_map.map((s,b)=>t.jsx(S,{i:b,field:s,freshSalesConf:e,formFields:i,setFreshSalesConf:c,setSnackbar:u},`pipedrive-m-${b+9}`)),t.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:t.jsx("button",{onClick:()=>z(e.field_map.length,e,c,!1),className:"icn-btn sh-sm",type:"button",children:"+"})}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("div",{className:"mt-4",children:t.jsx("b",{className:"wdt-100",children:l("Utilities","bit-integrations")})}),t.jsx("div",{className:"btcd-hr mt-1"}),t.jsx(C,{freshSalesConf:e,setFreshSalesConf:c,isLoading:d,setIsLoading:n,setSnackbar:u})]}),e.moduleData.module&&!((A=($=(R=e.default)==null?void 0:R.modules)==null?void 0:$[e.moduleData.module])!=null&&A.fields)&&t.jsx(k,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}})]})}function mt({formID:i,formFields:e,handleInput:c,freshSalesConf:m,setFreshSalesConf:d,isLoading:n,setIsLoading:u,setSnackbar:o}){return t.jsxs(t.Fragment,{children:[t.jsx("br",{}),t.jsx("b",{className:"wdt-200 d-in-b",children:l("Module:","bit-integrations")}),t.jsxs("select",{onChange:c,name:"module",value:m.moduleData.module,className:"btcd-paper-inp w-5",disabled:n,children:[t.jsx("option",{value:"",children:l("Select Module","bit-integrations")}),Object.keys(m.default.modules).map(r=>t.jsx("option",{value:r,children:r},r))]}),t.jsx("br",{}),t.jsxs("div",{children:[m.moduleData.module!=="Account"&&t.jsx("div",{className:"btcd-hr"}),t.jsx(f,{formFields:e,freshSalesConf:m,setFreshSalesConf:d,handleInput:c,isLoading:n,setIsLoading:u,setSnackbar:o})]}),t.jsx("br",{})]})}export{mt as F};
