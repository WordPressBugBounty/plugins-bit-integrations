var j=Object.defineProperty,S=Object.defineProperties;var M=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var f=(t,e,s)=>e in t?j(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,g=(t,e)=>{for(var s in e||(e={}))y.call(e,s)&&f(t,s,e[s]);if(c)for(var s of c(e))N.call(e,s)&&f(t,s,e[s]);return t},u=(t,e)=>S(t,M(e));import{_ as n,j as i}from"./main.2.7.8.js";import{u as _,d}from"./react-router-dom.BLIKw1eE.js";import{S as k}from"./StepPage.WzUH6U7u.js";import{S as C}from"./Steps.CeG8Itxy.js";import{I as E}from"./Integrations.DsKoVZo5.js";import F from"./MoosendAuthorization.DW_qjDMl.js";import{n as I,c as L}from"./MoosendCommonFunc.B8oWq_If.js";import{M as q}from"./MoosendIntegLayout.YyXOWksL.js";import"./Note.CbpnsFnB.js";import"./CopyIcn.CrDMgwxJ.js";import"./SnackMsg.DGLO5_fd.js";import"./Table.PPpIxK2a.js";import"./index.rAvPDjud.js";import"./tutorialLinks.C1WWujPT.js";import"./TutorialLink.CvfNjaff.js";import"./GlobalIntegrationHelper.BwprkiWd.js";import"./TagifyInput.AWOXl6wg.js";import"./tagify.YxUZd8Ix.js";function Z({formFields:t,setFlow:e,flow:s,allIntegURL:b}){const h=_(),[a,p]=d.useState(1),[r,m]=d.useState({auth:!1,list:!1,page:!1}),[o,l]=d.useState({name:"Moosend",type:"Moosend",authKey:"",field_map:[{formFields:"",moosendFormFields:""}],listId:"",method:"",actions:{},moosendFields:[],basicFields:[{key:"Email",label:n("Email","bit-integrations"),required:!0},{key:"Name",label:n("Name","bit-integrations"),required:!1},{key:"Mobile",label:n("Mobile","bit-integrations"),required:!1}]}),x=v=>{m(u(g({},r),{page:v}))};return i.jsxs("div",{children:[i.jsx("div",{className:"txt-center mt-2",children:i.jsx(C,{step:3,active:a})}),i.jsx(F,{moosendConf:o,setMoosendConf:l,loading:r,setLoading:m,step:a,setStep:p}),i.jsxs(k,{step:a,stepNo:2,style:{width:900,height:"auto",overflow:"visible"},children:[i.jsx(q,{moosendConf:o,setMoosendConf:l,formFields:t,loading:r,setLoading:m}),(o==null?void 0:o.method)&&i.jsxs("button",{onClick:()=>I(o,p,3),disabled:o.field_map.length<1,className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[n("Next"),"Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),o.method&&i.jsx(E,{step:a,saveConfig:()=>L(s,e,b,o,h,x),isLoading:r.page,dataConf:o,setDataConf:l,formFields:t})]})}export{Z as default};
