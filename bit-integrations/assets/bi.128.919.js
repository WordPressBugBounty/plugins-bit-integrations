var E=Object.defineProperty;var P=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var j=(l,e,i)=>e in l?E(l,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):l[e]=i,m=(l,e)=>{for(var i in e||(e={}))S.call(e,i)&&j(l,i,e[i]);if(P)for(var i of P(e))k.call(e,i)&&j(l,i,e[i]);return l};import{j as s,L as w}from"./main-615.js";import{u as o,a8 as O}from"./bi.991.437.js";import{_ as r}from"./bi.394.0.js";import{a as I,h as L}from"./bi.819.3.js";import{T as R}from"./bi.178.673.js";import{a as A,T as n,g as F,b as D,P as _,v as $,d as T,e as W,C as M}from"./bi.170.920.js";const y=(l,e,i)=>{const a=m({},e);a.field_map.splice(l,0,{}),i(m({},a))},U=(l,e,i)=>{const a=m({},e);a.field_map.length>1&&a.field_map.splice(l,1),i(m({},a))},N=(l,e,i,a)=>{const d=m({},i);d.field_map[e][l.target.name]=l.target.value,l.target.value==="custom"&&(d.field_map[e].customValue=""),a(m({},d))};function x({i:l,formFields:e,field:i,voxelConf:a,setVoxelConf:d}){var h,b;const p=(a==null?void 0:a.voxelFields.filter(t=>t.required===!0))||[],g=((h=a==null?void 0:a.voxelFields)==null?void 0:h.filter(t=>t.required===!1))||[];return s.jsx("div",{className:"flx mt-2 mb-2 btcbi-field-map",children:s.jsxs("div",{className:"pos-rel flx",children:[s.jsxs("div",{className:"flx integ-fld-wrp",children:[s.jsxs("select",{className:"btcd-paper-inp mr-2",name:"formField",value:i.formField||"",onChange:t=>N(t,l,a,d),children:[s.jsx("option",{value:"",children:r("Select Field","bit-integrations")}),s.jsx("optgroup",{label:r("Form Fields","bit-integrations"),children:e==null?void 0:e.map(t=>s.jsx("option",{value:t.name,children:t.label},`ff-rm-${t.name}`))}),s.jsx("option",{value:"custom",children:r("Custom...","bit-integrations")}),s.jsx("optgroup",{label:"General Smart Codes",children:(b=I)==null?void 0:b.map(t=>s.jsx("option",{value:t.name,children:t.label},`ff-rm-${t.name}`))})]}),i.formField==="custom"&&s.jsx(R,{onChange:t=>L(t,l,a,d),label:r("Custom Value","bit-integrations"),className:"mr-2",type:"text",value:i.customValue,placeholder:r("Custom Value","bit-integrations"),formFields:e}),s.jsxs("select",{className:"btcd-paper-inp",disabled:l<p.length,name:"voxelField",value:l<p?p[l].label||"":i.voxelField||"",onChange:t=>N(t,l,a,d),children:[s.jsx("option",{value:"",children:r("Select Field","bit-integrations")}),l<p.length?s.jsx("option",{value:p[l].key,children:p[l].label},p[l].key):g.map(({key:t,label:c})=>s.jsx("option",{value:t,children:c},t))]})]}),s.jsx("div",{className:"flx integ-fld-wrp",children:l>=p.length&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>y(l,a,d),className:"icn-btn sh-sm ml-2 mr-1",type:"button",children:"+"}),s.jsx("button",{onClick:()=>U(l,a,d),className:"icn-btn sh-sm ml-1",type:"button","aria-label":"btn",children:s.jsx("span",{className:"btcd-icn icn-trash-2"})})]})})]})})}function B({formFields:l,voxelConf:e,setVoxelConf:i,loading:a,setLoading:d,setSnackbar:p}){const g=t=>{const c=m({},e);if(c.selectedTask=t,c.selectedEvent="",t)switch(t){case n.NEW_POST:case n.UPDATE_POST:F(c,i,a,d);break;case n.NEW_COLLECTION_POST:case n.UPDATE_COLLECTION_POST:T(c,i,M,a,d);break;case n.NEW_PROFILE:case n.UPDATE_PROFILE:T(c,i,W,a,d);break;case n.SET_POST_VERIFIED:case n.SET_COLLECTION_POST_VERIFIED:case n.SET_PROFILE_VERIFIED:const u=$(t);c.voxelFields=u.staticFields,c.field_map=u.fieldMap;break}else c.selectedPostType="",c.field_map=[];i(m({},c))},h=(t,c)=>{const u=m({},e);u[c]=t,!t&&c==="selectedPostType"&&(u.voxelFields=[],u.field_map=[],u.posts=[],u.selectedPost=""),t&&c==="selectedPostType"&&T(u,i,t,a,d),i(m({},u))},b=`<h4>${r('If you have "recurring-date, event-date, work-hours" or any kind of image or attachment fields see the instructions below:',"bit-integrations")}</h4>
  <ul>
    <li>${r("For any kind of <strong>image, file, or other attachment,</strong> provide an <strong>attachment ID; for multiple, provide comma-separated ids.</strong>","bit-integrations")}</li>
    <li>${r("For <strong>Event Unit</strong> field, accepted values: <strong>day, week, month, year.</strong>","bit-integrations")}</li>
    <li>${r("For <strong>Work Days</strong> field, accepted values: <strong>sat, sun, mon, tue, wed, thu, fri.</strong>","bit-integrations")}</li>
    <li>${r("For <strong>Work Hours</strong> field, enter time ranges as start and end times, with a dash between them. For more than one range, separate them with commas. <strong>Example: 09:00-12:00 or 09:00-11:00, 12:00-14:00.</strong>","bit-integrations")}</li>
    <li>${r("For <strong>Work Status</strong> field, accepted values: <strong> hours, open, close, appointments_only.</strong>","bit-integrations")}</li>
    <li>${r("For <strong>Taxonomy</strong> field, provide taxonomy slug(s), separate with comma if multiple allowed.","bit-integrations")}</li>
    <li>${r("For <strong>Product & Post Relation</strong> field, provide product id and post id respectively.","bit-integrations")}</li>
  </ul>`;return s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsxs("div",{className:"flx mt-3 mb-4",children:[s.jsx("b",{className:"wdt-200 d-in-b",children:r("Select Task:","bit-integrations")}),s.jsx(o,{style:{width:"450px"},options:A,className:"msl-wrp-options",defaultValue:e==null?void 0:e.selectedTask,onChange:t=>g(t),singleSelect:!0})]}),(e.selectedTask===n.NEW_POST||e.selectedTask===n.UPDATE_POST)&&s.jsxs("div",{className:"flx mt-3 mb-4",children:[s.jsx("b",{className:"wdt-200 d-in-b",children:r("Select Post Type:","bit-integrations")}),s.jsx(o,{style:{width:"450px"},options:e==null?void 0:e.postTypes,className:"msl-wrp-options",defaultValue:e==null?void 0:e.selectedPostType,onChange:t=>h(t,"selectedPostType"),disabled:a.postTypes,singleSelect:!0}),s.jsx("button",{onClick:()=>F(e,i,a,d),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${r("Refresh Post Types","bit-integrations")}'`},disabled:a.postTypes,type:"button",children:"↻"})]}),(e.selectedTask===n.UPDATE_POST||e.selectedTask===n.UPDATE_COLLECTION_POST)&&s.jsxs("div",{className:"flx mt-3 mb-4",children:[s.jsx("b",{className:"wdt-200 d-in-b",children:r("Select Post:","bit-integrations")}),s.jsx(o,{style:{width:"450px"},options:e.posts,className:"msl-wrp-options",defaultValue:e==null?void 0:e.selectedPost,onChange:t=>h(t,"selectedPost"),disabled:a.posts||a.postTypes||a.postFields,singleSelect:!0}),s.jsx("button",{onClick:()=>D(e,i,e.selectedPostType,a,d),className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":`'${r("Refresh Posts","bit-integrations")}'`},disabled:a.posts||a.postTypes||a.postFields||!e.selectedPostType,type:"button",children:"↻"})]}),_.includes(e.selectedTask)&&s.jsxs("div",{className:"flx mt-3 mb-4",children:[s.jsx("b",{className:"wdt-200 d-in-b",children:r("Select Post Status:","bit-integrations")}),s.jsx(o,{style:{width:"450px"},options:[{value:"publish",label:"Publish"},{value:"draft",label:"Draft"},{value:"pending",label:"Pending"}],className:"msl-wrp-options",defaultValue:e==null?void 0:e.selectedPostStatus,onChange:t=>h(t,"selectedPostStatus"),singleSelect:!0})]}),(a.postTypes||a.postFields||a.posts)&&s.jsx(w,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:45,transform:"scale(0.5)"}}),s.jsx("div",{className:"mt-5",children:s.jsx("b",{className:"wdt-100",children:r("Field Map","bit-integrations")})}),s.jsx("br",{}),s.jsx("div",{className:"btcd-hr mt-1"}),s.jsxs("div",{className:"flx flx-around mt-2 mb-2 btcbi-field-map-label",children:[s.jsx("div",{className:"txt-dp",children:s.jsx("b",{children:r("Form Fields","bit-integrations")})}),s.jsx("div",{className:"txt-dp",children:s.jsx("b",{children:r("The Events Calendar Fields","bit-integrations")})})]}),e.selectedTask&&(e==null?void 0:e.field_map.map((t,c)=>s.jsx(x,{i:c,field:t,voxelConf:e,formFields:l,setVoxelConf:i,setSnackbar:p},`rp-m-${c+9}`))),(e==null?void 0:e.selectedTask)&&e.field_map.length!==0&&s.jsx("div",{className:"txt-center btcbi-field-map-button mt-2",children:s.jsx("button",{onClick:()=>y(e.field_map.length,e,i),className:"icn-btn sh-sm",type:"button",children:"+"})}),(_.includes(e.selectedTask)||e.selectedTask===n.NEW_PROFILE||e.selectedTask===n.UPDATE_PROFILE)&&s.jsx(O,{note:b,isInstruction:!0,isHeadingNull:!1,maxWidth:"100%"})]})})}export{B as V};
