import{u as j,o as v,r as o,j as t}from"./main-174.js";import"./bi.89.470.js";import{B as S}from"./bi.417.813.js";import{_ as i}from"./bi.964.0.js";import{S as C}from"./bi.404.13.js";import{S as I}from"./bi.60.1041.js";import _ from"./bi.342.213.js";import{I as q,s as N}from"./bi.48.3.js";import{s as W,h as Z,c as p}from"./bi.323.855.js";import{Z as w}from"./bi.912.854.js";import"./bi.873.9.js";import"./bi.546.818.js";import"./bi.755.11.js";import"./bi.410.14.js";import"./bi.54.773.js";import"./bi.573.774.js";function K({formFields:m,setFlow:u,flow:b,allIntegURL:f}){const g=j(),{formID:c}=v(),[n,l]=o.useState(!1),[s,d]=o.useState(1),[h,a]=o.useState({show:!1}),y=[{key:"first_name",label:i("First Name","bit-integrations"),required:!0},{key:"last_name",label:i("Last Name","bit-integrations"),required:!0},{key:"email",label:i("Email","bit-integrations"),required:!0},{key:"city",label:i("City","bit-integrations"),required:!1},{key:"country",label:i("Country","bit-integrations"),required:!1},{key:"phone",label:i("Phone","bit-integrations"),required:!1},{key:"job_title",label:i("Job Title","bit-integrations"),required:!1},{key:"zip",label:i("Zip","bit-integrations"),required:!1}],[e,r]=o.useState({name:"Zoom Webinar",type:"Zoom Webinar",clientId:"",clientSecret:"",zoomId:"",field_map:[{formField:"",zoomField:""}],zoomWebinarFields:y,allActions:[{value:"Create Attendee",key:1},{value:"Delete Attendee",key:2},{value:"Create User",key:3},{value:"Delete User",key:4}],selectedActions:null,actions:{}});o.useEffect(()=>{window.opener&&W("zoom")},[]);const k=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!p(e)){a({show:!0,msg:i("Please map fields to continue.","bit-integrations")});return}e.field_map.length>0&&d(3)};return t.jsxs("div",{children:[t.jsx(C,{snack:h,setSnackbar:a}),t.jsx("div",{className:"txt-center w-9 mt-2",children:t.jsx(I,{step:3,active:s})}),t.jsx(_,{formID:c,zoomWebinarConf:e,setZoomWebinarConf:r,step:s,setStep:d,setSnackbar:a,isLoading:n,setIsLoading:l}),t.jsxs("div",{className:"btcd-stp-page",style:{width:s===2&&900,height:s===2&&"100%"},children:[t.jsx(w,{formID:c,formFields:m,handleInput:x=>Z(x,e,r),zoomWebinarConf:e,setZoomWebinarConf:r,isLoading:n,setIsLoading:l,setSnackbar:a}),t.jsxs("button",{onClick:()=>k(),disabled:e.field_map.length<2||n||!e.id||!p(e)||e.selectedActions==null,className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[i("Next","bit-integrations"),t.jsx(S,{className:"ml-1 rev-icn"})]})]}),t.jsx(q,{step:s,saveConfig:()=>N({flow:b,setFlow:u,allIntegURL:f,navigate:g,conf:e,setIsLoading:l,setSnackbar:a}),isLoading:n,dataConf:e,setDataConf:r,formFields:m})]})}export{K as default};
