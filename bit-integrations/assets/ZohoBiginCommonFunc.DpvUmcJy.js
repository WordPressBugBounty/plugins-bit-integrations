var _=Object.defineProperty;var p=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var F=(t,a,l)=>a in t?_(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,m=(t,a)=>{for(var l in a||(a={}))k.call(a,l)&&F(t,l,a[l]);if(p)for(var l of p(a))y.call(a,l)&&F(t,l,a[l]);return t};import{d as c,_ as u,s as D}from"./main.2.7.11.js";const U=(t,a,l,s,d,f,e,i,r,o)=>{let h=m({},l);a===0?h[t.target.name]=t.target.value:h.relatedlists[a-1][t.target.name]=t.target.value,t.target.name==="module"&&(h=w(a,h,d,s,f,e)),s(m({},h))},P=(t,a,l,s,d,f,e)=>{a(t)},w=(t,a,l,s,d,f)=>{var r,o;const e=m({},a),i=t===0?e.module:e.relatedlists[t-1].module;return t===0?(e.actions={},e.field_map=[{formField:"",zohoFormField:""}],e.upload_field_map=[{formField:"",zohoFormField:""}],t&&(e.relatedlists[t-1]={})):(e.relatedlists[t-1].field_map=[{formField:"",zohoFormField:""}],e.relatedlists[t-1].upload_field_map=[{formField:"",zohoFormField:""}],e.relatedlists[t-1].actions={}),(o=(r=e.default)==null?void 0:r.moduleData)!=null&&o[i]?t===0?(e.field_map=n(t,e),Object.keys(e.default.moduleData[i].fileUploadFields).length>0&&(e.upload_field_map=n(t,e,!0))):(e.relatedlists[t-1].field_map=n(t,e),Object.keys(e.default.moduleData[i].fileUploadFields).length>0&&(e.relatedlists[t-1].upload_field_map=n(t,e,!0))):z(t,l,e,s,d,f),e},M=(t,a,l,s,d)=>{s(!0);const f={formID:t,id:a.id,dataCenter:a.dataCenter,clientId:a.clientId,clientSecret:a.clientSecret,tokenDetails:a.tokenDetails};c(f,"zbigin_refresh_modules").then(e=>{if(e&&e.success){const i=m({},a);i.default||(i.default={}),e.data.modules&&(i.default.modules=e.data.modules),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),l(m({},i)),d({show:!0,msg:u("Modules refreshed","bit-integrations")})}else e&&e.data&&e.data.data||!e.success&&typeof e.data=="string"?d({show:!0,msg:D(u("Modules refresh failed Cause: %s. please try again","bit-integrations"),e.data.data||e.data)}):d({show:!0,msg:u("Modules refresh failed. please try again","bit-integrations")});s(!1)}).catch(()=>s(!1))},R=(t,a,l,s,d)=>{s(!0);const f={formID:t,id:a.id,dataCenter:a.dataCenter,clientId:a.clientId,clientSecret:a.clientSecret,tokenDetails:a.tokenDetails};c(f,"zbigin_refresh_playouts").then(e=>{if(e&&e.success){const i=m({},a);i.default||(i.default={}),e.data.pLayouts&&(i.default.pLayouts=e.data.pLayouts),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),l(m({},i)),d({show:!0,msg:u("Pipeline Layouts refreshed","bit-integrations")})}else e&&e.data&&e.data.data||!e.success&&typeof e.data=="string"?d({show:!0,msg:D(u("Pipeline Layouts refresh failed Cause: %s. please try again","bit-integrations"),e.data.data||e.data)}):d({show:!0,msg:u("Pipeline Layouts refresh failed. please try again","bit-integrations")});s(!1)}).catch(()=>s(!1))},z=(t,a,l,s,d,f)=>{const e=t===0?l.module:l.relatedlists[t-1].module;if(!e)return;d(!0);const i={formID:a,module:e,dataCenter:l.dataCenter,clientId:l.clientId,clientSecret:l.clientSecret,tokenDetails:l.tokenDetails};c(i,"zbigin_refresh_fields").then(r=>{if(r&&r.success){const o=m({},l);r.data.fieldDetails&&(o.default.moduleData||(o.default.moduleData={}),o.default.moduleData[e]=r.data.fieldDetails,t===0?(o.field_map=n(t,o),Object.keys(o.default.moduleData[e].fileUploadFields).length>0&&(o.upload_field_map=n(t,o,!0))):(o.relatedlists[t-1].field_map=n(t,o),Object.keys(o.default.moduleData[e].fileUploadFields).length>0&&(o.relatedlists[t-1].upload_field_map=n(t,o,!0)))),r.data.tokenDetails&&(o.tokenDetails=r.data.tokenDetails),s(m({},o))}else f({show:!0,msg:u("Fields refresh failed. please try again","bit-integrations")});d(!1)}).catch(()=>d(!1))},O=(t,a,l,s,d,f)=>{const e=t===0?l.module:l.relatedlists[t-1].module;if(!e)return;d(!0);const i={formID:a,module:e,dataCenter:l.dataCenter,clientId:l.clientId,clientSecret:l.clientSecret,tokenDetails:l.tokenDetails};c(i,"zbigin_refresh_tags").then(r=>{if(r&&r.success){const o=m({},l);r.data.tags&&(o.default.moduleData||(o.default.moduleData={}),o.default.moduleData[e].tags=r.data.tags,f({show:!0,msg:u("Tags refreshed","bit-integrations")})),r.data.tokenDetails&&(o.tokenDetails=r.data.tokenDetails),s(m({},o))}else f({show:!0,msg:u("Tags refresh failed. please try again","bit-integrations")});d(!1)}).catch(()=>d(!1))},S=(t,a,l,s,d)=>{s(!0);const f={formID:t,dataCenter:a.dataCenter,clientId:a.clientId,clientSecret:a.clientSecret,tokenDetails:a.tokenDetails};c(f,"zbigin_refresh_users").then(e=>{if(e&&e.success){const i=m({},a);e.data.users&&(i.default||(i.default={}),i.default.users=e.data.users,d({show:!0,msg:u("Users refreshed","bit-integrations")})),e.data.tokenDetails&&(i.tokenDetails=e.data.tokenDetails),l(m({},i))}else d({show:!0,msg:u("Users refresh failed. please try again","bit-integrations")});s(!1)}).catch(()=>s(!1))},n=(t,a,l)=>{var d,f;const s=t===0?a.module:a.relatedlists[t-1].module;return l?a.default.moduleData[s].requiredFileUploadFields.length>0?(d=a.default.moduleData[s].requiredFileUploadFields)==null?void 0:d.map(e=>({formField:"",zohoFormField:e})):[{formField:"",zohoFormField:""}]:a.default.moduleData[s].required.length>0?(f=a.default.moduleData[s].required)==null?void 0:f.map(e=>({formField:"",zohoFormField:e})):[{formField:"",zohoFormField:""}]},j=t=>{const a=t!=null&&t.field_map?t.field_map.filter(s=>{var d,f,e;return!s.formField&&s.zohoFormField&&((e=(f=(d=t==null?void 0:t.default)==null?void 0:d.moduleData)==null?void 0:f[t.module])==null?void 0:e.required.indexOf(s.zohoFormField))!==-1}):[],l=t.relatedlists.map(s=>s.field_map.filter(d=>!d.formField&&d.zohoFormField));return!(a.length>0||l.find(s=>s.length))};export{O as a,P as b,j as c,M as d,R as e,z as g,U as h,S as r};
