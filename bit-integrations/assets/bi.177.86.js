import{u as w,o as C,e as p,r as m,f as D,j as t}from"./main-247.js";import{f as S,$ as N,g as y,_ as n}from"./bi.456.0.js";import{S as P}from"./bi.417.13.js";import{z as k}from"./bi.393.437.js";import{S as E,I as F,s as L}from"./bi.427.3.js";import{h as R,c as $,a as z}from"./bi.430.787.js";import{P as A}from"./bi.553.788.js";import"./bi.712.9.js";import"./bi.923.11.js";import"./bi.858.14.js";import"./bi.510.673.js";import"./bi.210.674.js";function W({allIntegURL:f}){const g=w(),{id:u}=C(),[e,i]=p(S),[o,x]=p(N),[d,r]=m.useState(!1),[h,a]=m.useState({show:!1}),[l,v]=m.useState(0),c=D(y),b=()=>{if(!$(e)){a({show:!0,msg:n("Please map mandatory fields","bit-integrations")});return}if(!z(e)){["Leads","Deals","Activities","Notes"].includes(e.moduleData.module)&&a({show:!0,msg:n("Please select a organization or a person","bit-integrations")});return}L({flow:o,setFlow:x,allIntegURL:f,conf:e,navigate:g,id:u,edit:1,setIsLoading:r,setSnackbar:a})},j=s=>{i(I=>k(I,_=>{_[s.target.name]=s.target.value}))};return t.jsxs("div",{style:{width:900},children:[t.jsx(P,{snack:h,setSnackbar:a}),t.jsxs("div",{className:"flx mt-3",children:[t.jsx("b",{className:"wdt-200 ",children:n("Integration Name:","bit-integrations")}),t.jsx("input",{className:"btcd-paper-inp w-5",onChange:s=>j,name:"name",value:e.name,type:"text",placeholder:n("Integration Name...","bit-integrations")})]}),t.jsx("br",{}),t.jsx(E,{entity:o.triggered_entity,setSnackbar:a}),t.jsx(A,{tab:l,settab:v,formID:o.triggered_entity_id,formFields:c,handleInput:s=>R(s,l,e,i,r,a),pipeDriveConf:e,setPipeDriveConf:i,isLoading:d,setIsLoading:r,setSnackbar:a}),t.jsx(F,{edit:!0,saveConfig:b,disabled:e.moduleData.module===""||e.field_map.length<1,isLoading:d,dataConf:e,setDataConf:i,formFields:c}),t.jsx("br",{})]})}export{W as default};
