var v=Object.defineProperty;var P=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;var h=(n,i,s)=>i in n?v(n,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[i]=s,k=(n,i)=>{for(var s in i||(i={}))T.call(i,s)&&h(n,s,i[s]);if(P)for(var s of P(i))I.call(i,s)&&h(n,s,i[s]);return n};import{j as e,_ as t,s as x,d as N}from"./main.2.7.11.js";import{d as u,u as A,h as B}from"./react-router-dom.BLIKw1eE.js";import{z as C,y as j}from"./Note.iI4FM_zT.js";import{S as F}from"./SnackMsg.DJhRycHe.js";import{S as D}from"./Steps.KpTwh2fS.js";import{I as M,s as U}from"./Integrations.CiiC6YXN.js";import{C as w,A as q,E as G,F as L,P as z,R as V,S as H,a as W,b as Y,d as Q,e as J,f as K,g as X,j as Z,k as $,l as tt,m as et,n as it,B as st,h as at,c as R,i as nt}from"./BuddyBossIntegLayout.Q78hLNZS.js";import{B as ot}from"./BackIcn.Bt4XO_dx.js";import{T as E}from"./TutorialLink.BQJGOONg.js";import{t as rt}from"./tutorialLinks.C1WWujPT.js";import"./CopyIcn.DaX9e6Na.js";import"./Table.NqkguWs5.js";import"./index.rAvPDjud.js";import"./TagifyInput.ey_dUHW4.js";import"./tagify.YxUZd8Ix.js";function lt({formID:n,buddyBossConf:i,setBuddyBossConf:s,step:b,setStep:f,isLoading:p,setIsLoading:_,setSnackbar:S}){const[r,m]=u.useState(!1),[d,g]=u.useState(!1),{buddyBoss:l}=rt,c=()=>{_("auth"),N({},"buddyBoss_authorize").then(o=>{o!=null&&o.success&&(m(!0),S({show:!0,msg:t("Connected with BuddyBoss Successfully","bit-integrations")})),_(!1),g(!0)})},a=o=>{const y=j(i);y[o.target.name]=o.target.value,s(y)};return e.jsxs("div",{className:"btcd-stp-page",style:{width:b===1&&900,height:b===1&&"auto"},children:[e.jsx(E,{title:"BuddyBoss",youTubeLink:l==null?void 0:l.youTubeLink}),e.jsx(E,{title:"BuddyBoss",docLink:l==null?void 0:l.docLink}),e.jsx("div",{className:"mt-3",children:e.jsx("b",{children:t("Integration Name:","bit-integrations")})}),e.jsx("input",{className:"btcd-paper-inp w-6 mt-1",onChange:a,name:"name",value:i.name,type:"text",placeholder:t("Integration Name...","bit-integrations")}),p==="auth"&&e.jsxs("div",{className:"flx mt-5",children:[e.jsx(C,{size:25,clr:"#022217",className:"mr-2"}),"Checking if BuddyBoss is active!!!"]}),d&&!r&&!p&&e.jsxs("div",{className:"flx mt-5",style:{color:"red"},children:[e.jsx("span",{className:"btcd-icn mr-2",style:{fontSize:30,marginTop:-5},children:"×"}),x(t("%s plugin must be activated to integrate with Bit Integrations","bit-integrations"),"BuddyBoss")]}),!r&&e.jsx("button",{onClick:c,className:"btn btcd-btn-lg purple sh-sm flx mt-5",type:"button",children:t("Connect","bit-integrations")}),r&&e.jsxs("button",{onClick:()=>f(2),className:"btn btcd-btn-lg purple sh-sm flx mt-5",type:"button",disabled:!r,children:[t("Next","bit-integrations"),e.jsx(ot,{className:"ml-1 rev-icn"})]})]})}function Ft({formFields:n,setFlow:i,flow:s,allIntegURL:b,isInfo:f,edit:p}){const _=A(),{formID:S}=B(),[r,m]=u.useState(!1),[d,g]=u.useState(1),[l,c]=u.useState({show:!1}),[a,o]=u.useState({name:"BuddyBoss",type:"BuddyBoss",mainAction:"",field_map:[{formField:"",buddyBossFormField:""}],allActions:ct,groupPrivacyOptions:yt,userStatusOptions:ft,createGroupFields:dt,topicInForumFields:ut,sendAllUserNotificationFields:bt,sendAllGroupPrivateMessageFields:mt,addPostToGroupFields:pt,addPostSiteWideActivityStreamFields:_t,postReplyTopicForumFields:gt,actions:{}}),y=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!R(a)){c({show:!0,msg:t("Please map fields to continue.","bit-integrations")});return}a.mainAction!==""&&g(3)};return e.jsxs("div",{children:[e.jsx(F,{snack:l,setSnackbar:c}),e.jsx("div",{className:"txt-center mt-2",children:e.jsx(D,{step:3,active:d})}),e.jsx(lt,{formID:S,buddyBossConf:a,setBuddyBossConf:o,step:d,setStep:g,isLoading:r,setIsLoading:m,setSnackbar:c}),e.jsxs("div",{className:"btcd-stp-page",style:k({},d===2&&{width:900,height:"auto",overflow:"visible"}),children:[e.jsx(st,{formFields:n,handleInput:O=>at(O,a,o),buddyBossConf:a,setBuddyBossConf:o,isLoading:r,setIsLoading:m,setSnackbar:c,allIntegURL:b,isInfo:f,edit:p}),e.jsxs("button",{onClick:()=>y(),disabled:!a.mainAction||!R(a)||r||nt(a),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[t("Next","bit-integrations")," ",e.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),e.jsx(M,{step:d,saveConfig:()=>U({flow:s,setFlow:i,allIntegURL:b,navigate:_,conf:a,setIsLoading:m,setSnackbar:c}),isLoading:r,dataConf:a,setDataConf:o,formFields:n})]})}const ct=[{key:w,label:t("Create Group Pro","bit-integrations")},{key:q,label:t("Add the user to a group","bit-integrations")},{key:G,label:t("End friendship with a user Pro","bit-integrations")},{key:L,label:t("Follow a user Pro","bit-integrations")},{key:z,label:t("Post a topic in a forum Pro","bit-integrations")},{key:V,label:t("Remove user from a group Pro","bit-integrations")},{key:H,label:t("Send a friendship request to a user Pro","bit-integrations")},{key:W,label:t("Send a notification to all members of a group Pro","bit-integrations")},{key:Y,label:t("Send a private message to all members of a group Pro","bit-integrations")},{key:Q,label:t("Send a private message to a user Pro","bit-integrations")},{key:J,label:t("Send a notification to a user Pro","bit-integrations")},{key:K,label:t("Stop following a user Pro","bit-integrations")},{key:X,label:t("Subscribe the user to a forum Pro","bit-integrations")},{key:Z,label:t("Add a post to the activity stream of a group Pro","bit-integrations")},{key:$,label:t("Add a post to the site wide activity stream Pro","bit-integrations")},{key:tt,label:t("Add a post to the user's activity stream Pro","bit-integrations")},{key:et,label:t("Post a reply to a topic in a forum","bit-integrations")},{key:it,label:t("Set the user's status to a specific status","bit-integrations")}],dt=[{key:"group_name",label:t("Group Name","bit-integrations"),required:!0}],ut=[{key:"topic_content",label:t("Topic Content","bit-integrations"),required:!0},{key:"topic_title",label:t("Topic Title","bit-integrations"),required:!1}],bt=[{key:"notification_content",label:t("Notification Content","bit-integrations"),required:!0},{key:"notification_link",label:t("Notification Link","bit-integrations"),required:!1}],mt=[{key:"message_content",label:t("Message Content","bit-integrations"),required:!0},{key:"message_subject",label:t("Message subject","bit-integrations"),required:!1}],pt=[{key:"activity_action",label:t("activity_action","bit-integrations"),required:!0},{key:"activity_content",label:t("activity_content","bit-integrations"),required:!0}],_t=[{key:"activity_action",label:t("activity_action","bit-integrations"),required:!1},{key:"activity_action_link",label:t("activity_action_link","bit-integrations"),required:!1},{key:"activity_content",label:t("activity_content","bit-integrations"),required:!0}],gt=[{key:"reply_content",label:t("Reply Content","bit-integrations"),required:!0}],yt=[{key:"1",label:t("Public","bit-integrations")},{key:"2",label:t("Private","bit-integrations")},{key:"3",label:t("Hidden","bit-integrations")}],ft=[{key:"1",label:t("Active","bit-integrations")},{key:"2",label:t("Suspend","bit-integrations")}];export{Ft as default};
