var C=Object.defineProperty;var p=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var u=(s,e,t)=>e in s?C(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,f=(s,e)=>{for(var t in e||(e={}))I.call(e,t)&&u(s,t,e[t]);if(p)for(var t of p(e))N.call(e,t)&&u(s,t,e[t]);return s};import{_ as a,j as i}from"./main.2.7.9.js";import{u as L,h as q,d}from"./react-router-dom.BLIKw1eE.js";import"./Note.B1QjZ60t.js";import{S as w}from"./SnackMsg.DxKqsuNG.js";import{S as E}from"./Steps.C1SEpuXL.js";import{I as A,s as D}from"./Integrations.CEc3UakZ.js";import T from"./SendFoxAuthorization.Vc3clnQg.js";import{h as P,i as U}from"./SendFoxCommonFunc.DF9RE0XL.js";import{S as z}from"./SendFoxIntegLayout.CtIhLXeh.js";import"./CopyIcn.Bz4pX3qF.js";import"./Table.Bhs4KlDc.js";import"./index.rAvPDjud.js";import"./BackIcn.83O8CzQ9.js";import"./tutorialLinks.C1WWujPT.js";import"./TutorialLink.DotDhwIX.js";import"./TagifyInput.BafnMlYq.js";import"./tagify.YxUZd8Ix.js";function ie({formFields:s,setFlow:e,flow:t,allIntegURL:x}){const g=L(),{formID:F}=q(),[c,o]=d.useState(!1),[r,b]=d.useState(1),[S,l]=d.useState({show:!1}),h=[{key:"1",label:a("Create List","bit-integrations")},{key:"2",label:a("Create Contact","bit-integrations")},{key:"3",label:a("Unsubscribe Contact","bit-integrations")}],k=[{key:"email",label:a("Email","bit-integrations"),required:!0},{key:"first_name",label:a("First Name","bit-integrations"),required:!1},{key:"last_name",label:a("Last Name","bit-integrations"),required:!1}],y=[{key:"name",label:a("Name","bit-integrations"),required:!0}],j=[{key:"email",label:a("Email","bit-integrations"),required:!0}],[n,m]=d.useState({name:"SendFox",type:"SendFox",listId:"",access_token:"",field_map:[{formField:"",sendFoxFormField:""}],field_map_list:[{formField:"",sendFoxListFormField:""}],field_map_unsubscribe:[{formField:"",sendFoxUnsubscribeFormField:""}],allActions:h,contactFields:k,unsubscribeFields:j,listFields:y,actions:{}}),v=()=>{setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),b(3)};return i.jsxs("div",{children:[i.jsx(w,{snack:S,setSnackbar:l}),i.jsx("div",{className:"txt-center mt-2",children:i.jsx(E,{step:3,active:r})}),i.jsx(T,{formID:F,sendFoxConf:n,setSendFoxConf:m,step:r,setstep:b,isLoading:c,setIsLoading:o,setSnackbar:l}),i.jsxs("div",{className:"btcd-stp-page",style:f({},r===2&&{width:900,height:"auto",overflow:"visible"}),children:[i.jsx(z,{formFields:s,handleInput:_=>P(_,n,m,o),sendFoxConf:n,setSendFoxConf:m,isLoading:c,setIsLoading:o,setSnackbar:l}),i.jsxs("button",{onClick:()=>v(),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",disabled:U(n),children:[a("Next","bit-integrations")," Â ",i.jsx("div",{className:"btcd-icn icn-arrow_back rev-icn d-in-b"})]})]}),i.jsx(A,{step:r,saveConfig:()=>D({flow:t,setFlow:e,allIntegURL:x,navigate:g,conf:n,setIsLoading:o,setSnackbar:l}),isLoading:c,dataConf:n,setDataConf:m,formFields:s})]})}export{ie as default};
