import{u as v,o as w,e as f,r as n,f as N,j as t}from"./main-174.js";import{$ as y,e as F,f as E,_ as m}from"./bi.964.0.js";import{S as M}from"./bi.404.13.js";import{u as p}from"./bi.89.470.js";import{S as C,I as k,s as L}from"./bi.48.3.js";import{h as $,c as R}from"./bi.389.866.js";import{M as D}from"./bi.391.867.js";import"./bi.873.9.js";import"./bi.755.11.js";import"./bi.410.14.js";import"./bi.54.773.js";import"./bi.573.774.js";import"./bi.45.805.js";function X({allIntegURL:g}){const u=v();w();const[o,P]=f(y),[e,s]=f(F),[x,A]=n.useState(!1),[h,b]=n.useState((e==null?void 0:e.name)||""),[l,r]=n.useState({list:!1,field:!1,auth:!1,group:!1}),[j,i]=n.useState({show:!1}),c=N(E),_=()=>{if(!R(e)){i({show:!0,msg:m("Please map mandatory fields","bit-integrations")});return}L({flow:o,allIntegURL:g,conf:e,navigate:u,edit:1,setLoading:r,setSnackbar:i})};n.useEffect(()=>{e!=null&&e.action||s(a=>p(a,d=>{d.action="add_subscriber"}))},[]);const I=a=>{b(a.target.value),s(d=>p(d,S=>{S.name=a.target.value}))};return t.jsxs("div",{style:{width:900},children:[t.jsx(M,{snack:j,setSnackbar:i}),t.jsxs("div",{className:"flx mt-3",children:[t.jsx("b",{className:"wdt-200 d-in-b",children:m("Integration Name:","bit-integrations")}),t.jsx("input",{className:"btcd-paper-inp w-5",onChange:I,name:"name",value:h,type:"text",placeholder:m("Integration Name...","bit-integrations")})]}),t.jsx("br",{}),t.jsx(C,{entity:o.triggered_entity,setSnackbar:i}),t.jsx(D,{formID:o.triggered_entity_id,formFields:c,handleInput:a=>$(a,e,s,l,r),mailerLiteConf:e,setMailerLiteConf:s,loading:l,setLoading:r,setSnackbar:i}),t.jsx(k,{edit:!0,saveConfig:_,disabled:e.field_map.length<1,isLoading:x,dataConf:e,setDataConf:s,formFields:c}),t.jsx("br",{})]})}export{X as default};
