import{r as l,j as n}from"./main-34.js";import{c as p}from"./bi.671.0.js";import{T as N}from"./bi.22.11.js";const b=({authData:i,setAuthData:d,selectedUserId:s,setSelectedUserId:t,setIsLoading:r,isEdit:m,isInfo:u})=>{const[h,o]=l.useState(null),c=l.useRef(null),f=e=>{r(!0),p(e,"auth/account/delete").then(a=>{a.success&&(d(j=>j.filter(v=>v.id!==e)),s===e&&t(null),r(!1))}),o(null)},x=e=>{t(e)};return l.useEffect(()=>{const e=a=>{c.current&&!c.current.contains(a.target)&&o(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),l.useEffect(()=>{u||m||(i.length===1?t(i[0].id):!s&&i.length>0&&t(i[i.length-1].id))},[i]),n.jsx("div",{className:"user-radio-input",children:n.jsx("div",{className:"auth-list",children:i.map(e=>n.jsxs("div",{className:`auth-item ${s===e.id?"active":""}`,children:[n.jsxs("label",{className:"auth-label",children:[n.jsx("input",{type:"radio",name:"auth",value:e.id,checked:s===e.id,onChange:()=>x(e.id),className:"radio-input"}),n.jsxs("div",{className:"auth-info",children:[n.jsx("img",{src:e.userInfo.user.photoLink,alt:"User Avatar",className:"user-avatar"}),n.jsxs("div",{children:[n.jsx("div",{className:"user-name",children:e.userInfo.user.displayName}),n.jsx("div",{className:"user-email",children:e.userInfo.user.emailAddress})]})]})]}),!u&&n.jsx("div",{className:"delete-section",children:h===e.id?n.jsxs("div",{className:"confirmation-popover",ref:c,children:[n.jsx("p",{children:"Are you sure?"}),n.jsx("button",{className:"confirm-button",onClick:()=>f(e.id),children:"Yes"}),n.jsx("button",{className:"cancel-button",onClick:()=>o(null),children:"No"})]}):n.jsx("button",{className:"delete-button",onClick:()=>o(e.id),children:n.jsx(N,{})})})]},e.id))})})};var E=b;export{E as A};
