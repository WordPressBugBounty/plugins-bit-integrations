var U=Object.defineProperty;var v=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var _=(s,t,i)=>t in s?U(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,x=(s,t)=>{for(var i in t||(t={}))R.call(t,i)&&_(s,i,t[i]);if(v)for(var i of v(t))T.call(t,i)&&_(s,i,t[i]);return s};import{u as E,o as F,r as m,j as n}from"./main-458.js";import"./bi.413.449.js";import{_ as e}from"./bi.10.0.js";import{S as N}from"./bi.837.13.js";import{S as B}from"./bi.890.997.js";import{I as A,s as D}from"./bi.698.3.js";import O from"./bi.122.292.js";import{g as r,h as V,f as z,v as H}from"./bi.645.993.js";import{L as G}from"./bi.619.992.js";import{B as J}from"./bi.921.776.js";import"./bi.271.9.js";import"./bi.125.11.js";import"./bi.706.14.js";import"./bi.983.782.js";import"./bi.210.831.js";import"./bi.64.739.js";import"./bi.151.740.js";function me({formFields:s,setFlow:t,flow:i,allIntegURL:C}){const M=E(),{formID:w}=F(),[c,p]=m.useState(!1),[d,b]=m.useState(1),[y,l]=m.useState({show:!1}),[a,u]=m.useState({name:"Line",replyToken:"",recipientId:"",type:"Line",accessToken:"",parse_mode:"HTML",messageTypes:K,emojis_field_map:r(I),message_field_map:r(k),sticker_field_map:r(L),image_field_map:r(h),audio_field_map:r(j),video_field_map:r(q),location_field_map:r(S),body:"",actions:{},sendEmojis:!1,messageField:k,sendSticker:!1,sendImage:!1,sendAudio:!1,sendVideo:!1,sendLocation:!1,emojisFields:I,locationFields:S,stickerFields:L,imageFields:h,audioFields:j,videoFields:q}),P=g=>{if(setTimeout(()=>{const o=document.getElementById("btcd-settings-wrp");o&&(o.scrollTop=0)},300),g===3&&!(a!=null&&a.name||f())){const o=z(a);l({show:!0,msg:o&&o.length>0?o.join(", "):e("Please complete required fields to continue.","bit-integrations")});return}b(g)},f=()=>H(a);return n.jsxs("div",{children:[n.jsx(N,{snack:y,setSnackbar:l}),n.jsx("div",{className:"txt-center mt-2",children:n.jsx(B,{step:3,active:d})}),n.jsx(O,{formID:w,lineConf:a,setLineConf:u,step:d,setstep:b,isLoading:c,setIsLoading:p,setSnackbar:l}),n.jsxs("div",{className:"btcd-stp-page",style:x({},d===2&&{width:900,height:"auto",overflow:"visible"}),children:[n.jsx(G,{formFields:s,handleInput:g=>V(g,a,u),lineConf:a,setLineConf:u,isLoading:c,setIsLoading:p,setSnackbar:l}),n.jsxs("button",{onClick:()=>P(3),disabled:!f(),className:"btn f-right btcd-btn-lg purple sh-sm flx",type:"button",children:[e("Next","bit-integrations"),n.jsx(J,{className:"ml-1 rev-icn"})]})]}),n.jsx(A,{step:d,saveConfig:()=>D({flow:i,setFlow:t,allIntegURL:C,conf:a,navigate:M,setIsLoading:p,setSnackbar:l}),isLoading:c,dataConf:a,setDataConf:u,formFields:s})]})}const K=[{name:"sendPushMessage",label:e("Send a Push Message","bit-integrations"),is_pro:!1},{name:"sendReplyMessage",label:e("Send a Reply Message","bit-integrations"),is_pro:!0},{name:"sendBroadcastMessage",label:e("Send Broadcast Message","bit-integrations"),is_pro:!0}],I=[{label:e("Emojis ID","bit-integrations"),value:"emojis_id",required:!0},{label:e("Product Id","bit-integrations"),value:"product_id",required:!0},{label:e("Emoji Position (0-based index in text)","bit-integrations"),value:"index",required:!0}],L=[{label:e("Sticker ID","bit-integrations"),value:"sticker_id",required:!0},{label:e("Package Id","bit-integrations"),value:"package_id",required:!0}],h=[{label:e("Image's Original Content URL","bit-integrations"),value:"originalContentUrl",required:!0},{label:e("Image's Preview Image URL","bit-integrations"),value:"previewImageUrl",required:!0}],j=[{label:e("Audio's Original Content URL","bit-integrations"),value:"originalContentUrl",required:!0},{label:e("Duration","bit-integrations"),value:"duration",required:!0}],q=[{label:e("Original Content URL","bit-integrations"),value:"originalContentUrl",required:!0},{label:e("Preview Image URL","bit-integrations"),value:"previewImageUrl",required:!0}],S=[{label:e("Title","bit-integrations"),value:"title",required:!0},{label:e("Address","bit-integrations"),value:"address",required:!0},{label:e("Latitude","bit-integrations"),value:"latitude",required:!0},{label:e("longitude","bit-integrations"),value:"longitude",required:!0}],k=[{label:e("Message","bit-integrations"),value:"message",required:!0}];export{me as default};
