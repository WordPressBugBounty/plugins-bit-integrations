import{r as t,j as i}from"./main-615.js";import{c as p}from"./bi.394.0.js";import{T as N}from"./bi.405.11.js";const b=({authData:s,setAuthData:m,selectedUserId:e,setSelectedUserId:o,setIsLoading:r,isEdit:d,isInfo:u})=>{const[h,l]=t.useState(null),c=t.useRef(null),f=n=>{r(!0),p(n,"auth/account/delete").then(a=>{a.success&&(m(j=>j.filter(v=>v.id!==n)),e===n&&o(null),r(!1))}),l(null)},x=n=>{o(n)};return t.useEffect(()=>{const n=a=>{c.current&&!c.current.contains(a.target)&&l(null)};return document.addEventListener("mousedown",n),()=>{document.removeEventListener("mousedown",n)}},[]),t.useEffect(()=>{e!==null&&o(e),!(u||d)&&(s.length===1?o(s[0].id):!e&&s.length>0&&o(s[s.length-1].id))},[s]),i.jsx("div",{className:"user-radio-input",children:i.jsx("div",{className:"auth-list",children:s.map(n=>i.jsxs("div",{className:`auth-item ${e===n.id?"active":""}`,children:[i.jsxs("label",{className:"auth-label",children:[i.jsx("input",{type:"radio",name:"auth",value:n.id,checked:e===n.id,onChange:()=>x(n.id),className:"radio-input"}),i.jsxs("div",{className:"auth-info",children:[i.jsx("img",{src:n.userInfo.user.photoLink,alt:"User Avatar",className:"user-avatar"}),i.jsxs("div",{children:[i.jsx("div",{className:"user-name",children:n.userInfo.user.displayName}),i.jsx("div",{className:"user-email",children:n.userInfo.user.emailAddress})]})]})]}),!u&&i.jsx("div",{className:"delete-section",children:h===n.id?i.jsxs("div",{className:"confirmation-popover",ref:c,children:[i.jsx("p",{children:"Are you sure?"}),i.jsx("button",{className:"confirm-button",onClick:()=>f(n.id),children:"Yes"}),i.jsx("button",{className:"cancel-button",onClick:()=>l(null),children:"No"})]}):i.jsx("button",{className:"delete-button",onClick:()=>l(n.id),children:i.jsx(N,{})})})]},n.id))})})};var E=b;export{E as A};
